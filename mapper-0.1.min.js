(function(a){a.fn.mapper=function(b){var c=["input","option"],d=function(a,b){l=a.length;while(l--)if(a[l]==b)return!0;return!1};a(this).each(function(){var a=function(b,e,f){switch(e.constructor.name){case"String":case"Number":if(d(c,b.tagName.toLowerCase()))b.value=e;else if(f===undefined)b.appendChild(document.createTextNode(e));else{var g=b.getAttribute(f);b.setAttribute(f,(g?g+" ":"")+e)}break;case"Array":var h=b.children[0];if(h===null)return b;for(var i=0,j=e.length;i<j;i++)b.appendChild(a(h.cloneNode(!0),e[i]));b.removeChild(h);break;case"Object":var k=!0;if(b.hasAttribute("class")){var l=b.getAttribute("class"),m=l.split(" "),n=m.length,g="",o="",p=[];while(n--)(o=m[n])&&(p=o.split(":"))&&(g=e[p[0]])&&(p[1]!=undefined&&b.setAttribute("class",b.getAttribute("class").replace(o,"")),a(b,g,p[1]),k=!1)}if(k){var q=b.children,j=q.length;while(j--)a(q[j],e)}}return b};this.parentNode.replaceChild(a(this.cloneNode(!0),b),this)})}})(jQuery)